#pbs all -no_build -dd -w 0 -ddnl -display_rule_statistics --display_dependency_time -rro -nli -ddl -display_depend_end -ddr -display_rule_to_order -tno -tnos

Use './sugar' ; use subs qw( MyAddRule Module get_modules) ;

Config
	COMPILER => 'gcc',
	GENERATE_DOC => 1,

	MODULES => 'compiler_1 compiler_2' ;

Rule 'all', ['all' => get_modules(qw(MODULES)), 'runtime', 'tests', 'depended_somewhere_else', 'depended'] => BuildOk("Done 'oct'") ;
MyAddRule 'tests', ['tests' => get_tests('MODULES')] ;

SourcesMatch qr/X$/ ;
Rule 'depended', ['depended' => 'X' ] ;

Module '*/compiler_1' => 'compiler/compiler' ;
AddSubpbsRule '*/runtime' => 'runtime/runtime_scoped' ;

# set extra configuration to module
Subpbs 'compiler_2', '*/compiler_2' => 'compiler/compiler', 'compiler_2', DEBUG_DISPLAY_DEPENDENCIES => 1 , DEBUG_DISPLAY_DEPENDENCIES_LONG => 1 ;


